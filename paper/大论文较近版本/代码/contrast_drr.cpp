#include <stdio.h>
#include <stdlib.h>
#include <time.h>
#include <windows.h>
int main()
{
	
	double run_time=0;

	int j=0;
	int t;
	int i;
	float drr[50];
	srand(22);
	while(j<50)
	{
//		printf("Case:%d\n",j);

		int N=40;
		int M=85;
		float u1,u2;
		u1 = 0.7;
		u2 = 1-u1;

		printf("u1:%f  u2:%f\n",u1,u2);
		
		float x[50][6]= {
		{0,0.407,0.912,0.574,0.161,0.364},
		{0,0.649,0.414,0.316,0.130,0.414},
{0,0.528,0.868,0.571,0.945,0.009},
{0,0.256,0.823,0.386,0.676,0.608},
{0,0.989,0.614,0.575,0.596,0.615},
{0,0.791,0.814,0.808,0.294,0.2},
{0,0.217,0.335,0.295,0.84,0.948},
{0,0.327,0.332,0.899,0.337,0.901},
{0,0.664,0.891,0.915,0.293,0.947},
{0,0.635,0.19,0.455,0.398,0.469},
{0,0.573,0.425,0.771,0.186,0.712},
{0,0.573,0.68,0.832,0.893,0.424},
{0,0.166,0.83,0.577,0.725,0.487},
{0,0.394,0.73,0.724,0.244,0.733},
{0,0.79,0.68,0.314,0.054,0.365},
{0,0.53,0.248,0.868,0.06,0.507},
{0,0.812,0.311,0.321,0.097,0.231},
{0,0.522,0.429,0.418,0.203,0.257},
{0,0.42,0.564,0.8,0.537,0.502},
{0,0.713,0.249,0.463,0.577,0.304},
{0,0.697,0.574,0.502,0.507,0.458},
{0,0.12,0.715,0.263,0.599,0.87},
{0,0.326,0.118,0.904,0.965,0.919},
{0,0.543,0.313,0.393,0.497,0.471},
{0,0.948,0.314,0.639,0.966,0.504},
{0,0.693,0.216,0.583,0.725,0.455},
{0,0.965,0.945,0.257,0.555,0.258},
{0,0.619,0.836,0.874,0.726,0.468},
{0,0.609,0.545,0.374,0.94,0.194},
{0,0.633,0.981,0.515,0.738,0.484},
{0,0.017,0.515,0.187,0.176,0.264},
{0,0.356,0.338,0.583,0.419,0.237},
{0,0.422,0.606,0.323,0.587,0.695},
{0,0.424,0.855,0.43,0.639,0.536},
{0,0.424,0.242,0.628,0.836,0.546},
{0,0.513,0.686,0.923,0.912,0.71},
{0,0.878,0.839,0.447,0.826,0.735},
{0,0.553,0.561,0.786,0.62,0.859},
{0,0.208,0.977,0.075,0.338,0.854},
{0,0.843,0.153,0.635,0.901,0.453},
{0,0.351,0.961,0.369,0.559,0.108},
{0,0.51,0.485,0.675,0.391,0.441},
{0,0.658,0.814,0.528,0.714,0.115},
{0,0.384,0.43,0.256,0.477,0.116},
{0,0.829,0.427,0.099,0.03,0.194},
{0,0.972,0.627,0.691,0.09,0.087},
{0,0.832,0.566,0.204,0.177,0.792},
{0,0.573,0.539,0.678,0.16,0.628},
{0,0.984,0.327,0.935,0.233,0.421},
{0,0.548,0.546,0.687,0.373,0.541}
		};
		int begintime=0,endtime=0;
		float p[5];
		float risk;
		float G1,G2;
		int pro=1;
		int next=11;
		int count=0;
//	    float drr=0;
	    float fore=0;
	    float trend=0;
	    int send=rand()%2;
	    int res=rand()%2;
		
		for(i=1;i<=5;i++)
		{
			fore = fore + x[j][i];
			if(x[j][i]>x[j][i-1])
			{
				count++;
			}
		}
		
		count = count-1;
		
		fore = fore/5;
		
		switch(count){
			case 0:trend=0.1;break;
			case 1:trend=0.3;break;
			case 2:trend=0.5;break;
			case 3:trend=0.7;break;
			case 4:trend=0.9;break;
		}
		fore = fore*trend;
	
		int tt;
		tt=rand()%5;
		switch(tt){
    		case 0:risk=0.9;break;
    		case 1:risk=0.9;break;
    		case 2:risk=0.65;break;
    		case 3:risk=0.4;break;
    		case 4:risk=0.15;break;
    	}
    	
    	printf("unrisk:%f\n",risk);
	    
	    printf("1 1\n");
	    G1 = risk*(-N+M);
	    G2 = risk*(3*N-M);
	    printf("G1:%f G2:%f\n",G1,G2);
	    drr[j] = u1*fore + u2*G1;
	    printf("drr:%f\n\n",drr[j]);
		j++;
	}
	printf("\n\nDRR_lie:\n");
	for(i=0;i<50;i++)
	{
		printf("%.3f\n",drr[i]);
	}
	
	printf("\n\nDRR_line:\n");
	for(i=0;i<50;i++)
	{
		printf("%.3f,",drr[i]);
	}
	
	return 0;

    
} 

