#include <stdio.h>
#include <stdlib.h>
#include <time.h>
#include <windows.h>
int main()
{
	
	double run_time=0;

	int j=0;
	int t;
	int i;
	float drr[50];
	srand(22);
	while(j<50)
	{
//		printf("Case:%d\n",j);

		int N=40;
		int M=85;
		float u1,u2;
		u1 = 0.7;
		u2 = 1-u1;

		printf("u1:%f  u2:%f\n",u1,u2);
		float x[50][6]= {
		{0,0.434 ,0.822 ,0.772 ,0.490 ,0.796},
		{0,0.615 ,0.006 ,0.332 ,0.251 ,0.123},
		{0,0.216 ,0.723 ,0.873 ,0.153 ,0.286},
		{0,0.604 ,0.924 ,0.044 ,0.189 ,0.424},
		{0,0.958 ,0.336 ,0.855 ,0.515 ,0.405},
		{0,0.370 ,0.145 ,0.243 ,0.379 ,0.317},
		{0,0.308 ,0.190 ,0.357 ,0.460 ,0.254},
		{0,0.674 ,0.491 ,0.472 ,0.708 ,0.781},
		{0,0.839 ,0.066 ,0.242 ,0.699 ,0.347},
		{0,0.502 ,0.928 ,0.950 ,0.083 ,0.188},
		{0,0.192 ,0.369 ,0.134 ,0.217 ,0.307},
		{0,0.582 ,0.769 ,0.097 ,0.501 ,0.819},
		{0,0.905 ,0.160 ,0.473 ,0.334 ,0.677},
		{0,0.418 ,0.431 ,0.364 ,0.503 ,0.456},
		{0,0.521 ,0.263 ,0.277 ,0.023 ,0.323},
		{0,0.160 ,0.382 ,0.373 ,0.797 ,0.097},
		{0,0.564 ,0.005 ,0.587 ,0.616 ,0.772},
		{0,0.602 ,0.798 ,0.598 ,0.899 ,0.592},
		{0,0.677 ,0.530 ,0.772 ,0.659 ,0.746},
		{0,0.496 ,0.409 ,0.813 ,0.024 ,0.779},
		{0,0.892 ,0.534 ,0.928 ,0.224 ,0.151},
		{0,0.565 ,0.430 ,0.908 ,0.578 ,0.294},
		{0,0.284 ,0.956 ,0.076 ,0.151 ,0.973},
		{0,0.301 ,0.426 ,0.381 ,0.790 ,0.288},
		{0,0.608 ,0.784 ,0.361 ,0.238 ,0.265},
		{0,0.678 ,0.040 ,0.234 ,0.065 ,0.344},
		{0,0.558 ,0.649 ,0.414 ,0.502 ,0.971},
		{0,0.784 ,0.652 ,0.954 ,0.614 ,0.018},
		{0,0.391 ,0.326 ,0.248 ,0.595 ,0.703},
		{0,0.692 ,0.452 ,0.615 ,0.424 ,0.625},
		{0,0.515 ,0.327 ,0.391 ,0.928 ,0.460},
		{0,0.241 ,0.111 ,0.708 ,0.698 ,0.541},
		{0,0.556 ,0.696 ,0.586 ,0.906 ,0.777},
		{0,0.459 ,0.603 ,0.821 ,0.510 ,0.829},
		{0,0.989 ,0.167 ,0.043 ,0.261 ,0.686},
		{0,0.829 ,0.945 ,0.498 ,0.244 ,0.723},
		{0,0.352 ,0.688 ,0.629 ,0.252 ,0.702},
		{0,0.616 ,0.261 ,0.340 ,0.145 ,0.229},
		{0,0.900 ,0.663 ,0.704 ,0.614 ,0.089},
		{0,0.341 ,0.548 ,0.497 ,0.837 ,0.805},
		{0,0.722 ,0.300 ,0.249 ,0.604 ,0.452},
		{0,0.890 ,0.349 ,0.228 ,0.361 ,0.928},
		{0,0.073 ,0.164 ,0.819 ,0.308 ,0.202},
		{0,0.523 ,0.630 ,0.581 ,0.053 ,0.187},
		{0,0.601 ,0.242 ,0.710 ,0.014 ,0.518},
		{0,0.618 ,0.849 ,0.638 ,0.970 ,0.374},
		{0,0.196 ,0.100 ,0.067 ,0.170 ,0.083},
		{0,0.777 ,0.964 ,0.908 ,0.129 ,0.338},
		{0,0.523 ,0.561 ,0.127 ,0.856 ,0.452},
		{0,0.657 ,0.643 ,0.749 ,0.662 ,0.119}
		};
		int begintime=0,endtime=0;
		float p[5];
		float risk;
		float G1,G2;
		int pro=1;
		int next=11;
		int count=0;
//	    float drr=0;
	    float fore=0;
	    float trend=0;
	    int send=rand()%2;
	    int res=rand()%2;
		
		for(i=1;i<=5;i++)
		{
			fore = fore + x[j][i];
			if(x[j][i]>x[j][i-1])
			{
				count++;
			}
		}
		
		count = count-1;
		
		fore = fore/5;
		
		switch(count){
			case 0:trend=0.1;break;
			case 1:trend=0.3;break;
			case 2:trend=0.5;break;
			case 3:trend=0.7;break;
			case 4:trend=0.9;break;
		}
		fore = fore*trend;

	
		int tt;
		tt=rand()%5;
		switch(tt){
    		case 0:risk=0.9;break;
    		case 1:risk=0.9;break;
    		case 2:risk=0.65;break;
    		case 3:risk=0.4;break;
    		case 4:risk=0.15;break;
    	}
    	
    	printf("unrisk:%f\n",risk);
	    
	    printf("1 1\n");
	    G1 = risk*(-N+M);
	    G2 = risk*(3*N-M);
	    printf("G1:%f G2:%f\n",G1,G2);
	    drr[j] = u1*fore + u2*G1;
	    printf("drr:%f\n\n",drr[j]);
		j++;
	}
	printf("\n\nDRR_lie:\n");
	for(i=0;i<50;i++)
	{
		printf("%.3f\n",drr[i]);
	}
	
	printf("\n\nDRR_line:\n");
	for(i=0;i<50;i++)
	{
		printf("%.3f,",drr[i]);
	}
	
	return 0;

    
} 

